# 组件注册

组件注册：

```html
<template id = "cpn">
<div>
    </div>
</template>
```

```js
const app = new Vue({
    el="#app",
     data:{
    message:""
},
   conmponents:{
      cpn:{
		template:"cpn"//绑定id
                    }              
}                 
                    })
```

```html
<div id="app">
    <cpn></cpn>
</div>
```



# Props

# 自定义事件





# 插槽

插槽的目的是让组件更加具有扩展性。



## 插槽内容

`<todo-button></todo-button>`

`<slot></slot>`的作用：

如果`<todo-button`中的template中没有包含一个该元素，则该组件起始标签和结束标签之间的任何内容都会被抛弃。

## 渲染作用域

当你想在一个插槽中使用数据时，例如：

```html
<todo-button>
  Delete a {{ item.name }}
</todo-button>
```

该插槽可以访问与模板其余部分相同的实例 property (即相同的“作用域”)。

![Slot explanation diagram](https://v3.cn.vuejs.org/images/slot.png)

插槽**不能**访问 `<todo-button>` 的作用域。例如，尝试访问 `action` 将不起作用：

```html
<todo-button action="delete">
  Clicking here will {{ action }} an item
  <!--
  `action` 将会是 undefined，因为这个内容是
  传递到 <todo-button>，
  而不是在 <todo-button> 中定义的。
  -->
</todo-button>
```



请记住这条规则：

> 父级模板里的所有内容都是在父级作用域中编译的；子模板里的所有内容都是在子作用域中编译的。





导航栏的使用便是在一个nav-bar中添加不同的插槽，这样以便于变成不同的导航栏。以jd为例。

## 如何封装这类组件

### 1.抽取共性，保留不同。

- 最好的封装方式就是将共性抽取到组件中，将不同暴露为插槽。
- 预留了插槽，就可以让使用者根据自己的需求，觉得插槽中插入什么内容。
- 是搜索框，还是文字，还是菜单。由调用者自己来决定。



### 栗子：

```html
//父组件
<div id="app">
    <cpn><button>dadadad
        </button></cpn>
    <cpn><button>lalalala
        </button></cpn>
    <cpn><button>hahahaha
        </button></cpn>
    <cpn><button>adwaadwad
        </button></cpn>//这会使button出现不同的名称
</div>//父组件有东西时会覆盖子组件中的插槽内容。

//子组件
<template>
	<div>
        <h1>
            我是组件
        </h1>
        <p>
            我是组件2
        </p>
        <slot>《这里面写东西会显示为默认值，即如果多次运用时不需要在父组件多次修改，直接用cpn即可全部呈现》</slot>//给组件预留位置
    </div>	
</template>
```

一个插槽会替换所有东西。

### 插槽总结：

基本使用。

默认值。<slot>meaning</slot>

如果有多槽，同时放入组件中进行替换时，一起作为替换元素。

## 具名插槽的使用：

